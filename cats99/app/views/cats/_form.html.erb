<% _action = @cat.name == "" ? cats_url : cat_url(@cat.id) %>
<% _verb = @cat.name == "" ? "POST" : "PATCH" %>

<form action="<%= _action %>" method="post">
  <input type="hidden" name="_method" value="<%= _verb %>">

  <label for = "cat_name">Name</label>
  <input id = "cat_name" name = "cat[name]" type = "text"
    value = "<%=cat.name%>">
  <br>

  <label for = "cat_birth_date">Birthdate</label>
  <input id = "cat_birth_date" name = "cat[birth_date]" type = "date"
    value = "<%=cat.birth_date%>">
  <br>

  <label for = "cat_color">Color</label>
  <select id = "cat_color" name = "cat[color]" >
    <option selected = "selected" disabled>Select a Color </option>
    <% Cat.colors.each do |color| %>
      <% if cat.color == color %>
        <option value="<%=color%>" selected = "selected">
          <%= color %> </option>
      <% else  %>
        <option value="<%=color%>"><%= color %> </option>
      <% end %>
    <% end %>
  </select>
  <br>

  <label for = "cat_sex">Sex</label>
  <br>
  <% if cat.sex.downcase == 'f'%>
    <input type="radio" name="cat[sex]" id="cat_sex_female" value="f" checked="checked">
    <label for="cat_sex_female">Female</label>
    <br>
    <input type="radio" name="cat[sex]" id="cat_sex_male" value="m">
    <label for="cat_sex_male">Male</label>
    <br>
  <% else %>
    <input type="radio" name="cat[sex]" id="cat_sex_female" value="f" >
    <label for="cat_sex_female">Female</label>
    <br>
    <input type="radio" name="cat[sex]" id="cat_sex_male" value="m" checked="checked">
    <label for="cat_sex_male">Male</label>
    <br>
  <% end %>

  <label for="cat_description">Description</label>
  <br>
  <textarea name="cat[description]" id="cat_description"><%=cat.description ? cat.description : nil%></textarea>
  <br>
  <input type="submit" value="Submit">
</form>
